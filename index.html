const formatSliderValue = (value) => {
        value = parseInt(value);
        if (value < 25) return "Strongly Left";
        if (value < 45) return "Moderately Left";
        if (value < 55) return "Balanced";
        if (value < 75) return "Moderately Right";
        return "Strongly Right";
      };

      const generateVoiceSummary = () => {
        const traits = [];
        
        if (data.voiceTone > 60) traits.push("punchy and bold");
        else if (data.voiceTone < 40) traits.push("soft and gentle");
        
        if (data.personality > 60) traits.push("playful");
        else if (data.personality < 40) traits.push("serious and professional");
        
        if (data.formality > 60) traits.push("casual and conversational");
        else if (data.formality < 40) traits.push("formal and polished");
        
        if (data.emotion > 60) traits.push("emotionally driven");
        else if (data.emotion < 40) traits.push("logical and rational");
        
        if (data.complexity > 60) traits.push("sophisticated");
        else if (data.complexity < 40) traits.push("simple and clear");
        
        if (data.innovation > 60) traits.push("modern and cutting-edge");
        else if (data.innovation < 40) traits.push("traditional");
        
        if (data.approachability > 60) traits.push("accessible and inclusive");
        else if (data.approachability < 40) traits.push("exclusive and premium");
        
        if (data.energy > 60) traits.push("energetic and dynamic");
        else if (data.energy < 40) traits.push("calm and measured");
        
        if (traits.length === 0) return "This brand maintains a balanced, moderate approach across all voice attributes.";
        
        return `This brand voice is ${traits.slice(0, -1).join(", ")}${traits.length > 1 ? ", and " + traits[traits.length - 1] : traits[0]}.`;
      };

      const generateLanguageSummary = () => {
        const traits = [];
        
        if (data.vocabulary > 60) traits.push("uses industry-specific jargon");
        else if (data.vocabulary < 40) traits.push("uses everyday language");
        
        if (data.sentenceLength > 60) traits.push("favors long, flowing sentences");
        else if (data.sentenceLength < 40) traits.push("uses short, snappy sentences");
        
        if (data.technicality > 60) traits.push("is technical and precise");
        else if (data.technicality < 40) traits.push("explains in layman's terms");
        
        if (data.storytelling > 60) traits.push("uses stories and narratives");
        else if (data.storytelling < 40) traits.push("focuses on facts and data");
        
        if (data.humor > 60) traits.push("incorporates wit and humor");
        else if (data.humor < 40) traits.push("maintains a serious tone");
        
        if (data.directness > 60) traits.push("communicates subtly and suggestively");
        else if (data.directness < 40) traits.push("is direct and clear");
        
        if (traits.length === 0) return "This brand uses a balanced language style across all attributes.";
        
        return `The language style ${traits.slice(0, -1).join(", ")}${traits.length > 1 ? ", and " + traits[traits.length - 1] : traits[0]}.`;
      };<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brand Framework Builder</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      padding: 2rem;
      line-height: 1.6;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 1rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      padding: 2.5rem;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    h1 {
      font-size: 2.5rem;
      color: #1e293b;
      margin-bottom: 0.5rem;
    }
    .subtitle {
      color: #64748b;
      font-size: 1rem;
    }
    .button-group {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    button {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 0.5rem;
      font-size: 0.95rem;
      cursor: pointer;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.2s;
    }
    .btn-submit {
      background: #16a34a;
      color: white;
    }
    .btn-submit:hover:not(:disabled) {
      background: #15803d;
    }
    .btn-submit:disabled {
      background: #9ca3af;
      cursor: not-allowed;
    }
    .btn-export {
      background: #2563eb;
      color: white;
    }
    .btn-export:hover {
      background: #1d4ed8;
    }
    .btn-reset {
      background: #e2e8f0;
      color: #475569;
    }
    .btn-reset:hover {
      background: #cbd5e1;
    }
    .section {
      margin-bottom: 2.5rem;
    }
    .section h2 {
      font-size: 1.75rem;
      color: #1e293b;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 3px solid #bfdbfe;
    }
    .section-intro {
      color: #64748b;
      margin-bottom: 1.5rem;
    }
    .field {
      margin-bottom: 1.25rem;
    }
    label {
      display: block;
      font-weight: 600;
      color: #475569;
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
    }
    input[type="text"],
    textarea,
    select {
      width: 100%;
      padding: 0.85rem;
      border: 1px solid #cbd5e1;
      border-radius: 0.5rem;
      font-size: 0.95rem;
      font-family: inherit;
      transition: border-color 0.2s;
    }
    input[type="text"]:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #2563eb;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    textarea {
      resize: vertical;
      min-height: 70px;
    }
    .visual-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 0.75rem;
    }
    .visual-option {
      padding: 1rem;
      border: 2px solid #cbd5e1;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .visual-option:hover {
      border-color: #94a3b8;
    }
    .visual-option.selected {
      border-color: #2563eb;
      background: #eff6ff;
    }
    .visual-option-title {
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 0.25rem;
    }
    .visual-option-desc {
      font-size: 0.875rem;
      color: #64748b;
      margin-bottom: 0.5rem;
    }
    .visual-option-example {
      font-size: 0.75rem;
      color: #94a3b8;
      font-style: italic;
    }
    .slider-container {
      background: #f8fafc;
      padding: 1.25rem;
      border-radius: 0.5rem;
      margin-bottom: 1.5rem;
    }
    .slider-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.75rem;
    }
    .slider-label {
      font-weight: 600;
      color: #1e293b;
    }
    .slider-value {
      background: white;
      padding: 0.25rem 0.75rem;
      border-radius: 1rem;
      font-size: 0.875rem;
      color: #64748b;
    }
    .slider-track {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .slider-end {
      font-size: 0.8rem;
      color: #64748b;
      min-width: 100px;
    }
    .slider-end.left {
      text-align: right;
    }
    input[type="range"] {
      flex: 1;
      -webkit-appearance: none;
      appearance: none;
      height: 8px;
      background: #cbd5e1;
      border-radius: 5px;
      outline: none;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      background: #2563eb;
      cursor: pointer;
      border-radius: 50%;
      border: 3px solid white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      background: #2563eb;
      cursor: pointer;
      border-radius: 50%;
      border: 3px solid white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    .alert {
      padding: 1rem;
      border-radius: 0.5rem;
      margin-bottom: 1.5rem;
    }
    .alert-success {
      background: #f0fdf4;
      border: 1px solid #86efac;
      color: #166534;
    }
    .alert-error {
      background: #fef2f2;
      border: 1px solid #fca5a5;
      color: #991b1b;
    }
    .hidden {
      display: none;
    }
    @media (max-width: 768px) {
      body {
        padding: 1rem;
      }
      .container {
        padding: 1.5rem;
      }
      h1 {
        font-size: 2rem;
      }
      .header {
        flex-direction: column;
      }
      .slider-end {
        min-width: 80px;
        font-size: 0.7rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <img src="https://glowcorecreative.github.io/brand-framework/logo.png" alt="GlowCore Creative" style="max-width: 200px; margin-bottom: 1rem;">
        <h1>Brand Builder</h1>
        <p class="subtitle">Complete this framework to define your brand identity</p>
      </div>
      <div class="button-group">
        <button class="btn-submit" onclick="submitBrand()" id="submitBtn">
          <span>üì§</span> Submit
        </button>
        <button class="btn-export" onclick="exportBrand()">
          <span>üíæ</span> Export
        </button>
        <button class="btn-reset" onclick="resetForm()">
          <span>üîÑ</span> Reset
        </button>
      </div>
    </div>

    <div id="alertContainer"></div>

    <form id="brandForm">
      <!-- Brand Foundation -->
      <div class="section">
        <h2>Brand Foundation</h2>
        <div class="field">
          <label>Brand Name *</label>
          <input type="text" name="name" placeholder="What's your brand called?" required>
        </div>
        <div class="field">
          <label>Tagline (Optional)</label>
          <input type="text" name="tagline" placeholder="A brief phrase that captures your essence">
        </div>
        <div class="field">
          <label>Mission Statement</label>
          <textarea name="mission" placeholder="Why does your brand exist?"></textarea>
        </div>
        <div class="field">
          <label>Vision</label>
          <textarea name="vision" placeholder="Where do you want to be in 5-10 years?"></textarea>
        </div>
        <div class="field">
          <label>Core Values (3-5)</label>
          <textarea name="values" placeholder="What principles guide your brand? (comma separated)"></textarea>
        </div>
      </div>

      <!-- Target Audience -->
      <div class="section">
        <h2>Target Audience</h2>
        <div class="field">
          <label>Primary Audience</label>
          <textarea name="primaryAudience" placeholder="Who are you serving?"></textarea>
        </div>
        <div class="field">
          <label>Demographics</label>
          <textarea name="demographics" placeholder="Age, location, income, occupation, etc."></textarea>
        </div>
        <div class="field">
          <label>Psychographics</label>
          <textarea name="psychographics" placeholder="Values, interests, lifestyle, pain points"></textarea>
        </div>
        <div class="field">
          <label>Customer Needs</label>
          <textarea name="customerNeeds" placeholder="What problems are you solving?"></textarea>
        </div>
      </div>

      <!-- Market Position -->
      <div class="section">
        <h2>Market Position</h2>
        <div class="field">
          <label>Category/Industry</label>
          <select name="category" onchange="toggleOther(this, 'categoryOther')">
            <option value="">Select an option...</option>
            <option>Technology & Software</option>
            <option>Healthcare & Wellness</option>
            <option>Food & Beverage</option>
            <option>Fashion & Apparel</option>
            <option>Finance & Banking</option>
            <option>Education & Training</option>
            <option>Entertainment & Media</option>
            <option>Real Estate & Construction</option>
            <option>Professional Services</option>
            <option>Retail & E-commerce</option>
            <option>Travel & Hospitality</option>
            <option>Waste</option>
            <option>Other</option>
          </select>
        </div>
        <div class="field hidden" id="categoryOther">
          <label>If Other, specify:</label>
          <input type="text" name="categoryOther" placeholder="Your industry">
        </div>
        <div class="field">
          <label>Key Competitors</label>
          <textarea name="competitors" placeholder="Who else is in this space?"></textarea>
        </div>
        <div class="field">
          <label>What Makes You Different?</label>
          <textarea name="differentiation" placeholder="Your unique positioning"></textarea>
        </div>
        <div class="field">
          <label>Value Proposition</label>
          <textarea name="valueProposition" placeholder="Why should customers choose you?"></textarea>
        </div>
      </div>

      <!-- Brand Personality -->
      <div class="section">
        <h2>Brand Personality</h2>
        <div class="field">
          <label>Brand Archetype</label>
          <select name="archetype" onchange="toggleOther(this, 'archetypeOther')">
            <option value="">Select an option...</option>
            <option>The Innocent (optimistic, pure, simple)</option>
            <option>The Sage (wise, knowledgeable, thoughtful)</option>
            <option>The Explorer (adventurous, independent, pioneering)</option>
            <option>The Outlaw (rebellious, disruptive, revolutionary)</option>
            <option>The Magician (transformative, visionary, charismatic)</option>
            <option>The Hero (courageous, bold, inspirational)</option>
            <option>The Lover (passionate, intimate, sensual)</option>
            <option>The Jester (playful, humorous, fun-loving)</option>
            <option>The Everyman (relatable, down-to-earth, friendly)</option>
            <option>The Caregiver (nurturing, compassionate, generous)</option>
            <option>The Ruler (authoritative, powerful, controlling)</option>
            <option>The Creator (innovative, artistic, imaginative)</option>
            <option>Other/Combination</option>
          </select>
        </div>
        <div class="field hidden" id="archetypeOther">
          <label>If Other, describe:</label>
          <input type="text" name="archetypeOther" placeholder="Your archetype combination">
        </div>
        <div class="field">
          <label>If Your Brand Was a Person</label>
          <textarea name="humanTraits" placeholder="Describe their personality"></textarea>
        </div>
        <div class="field">
          <label>What You're NOT</label>
          <textarea name="avoidTraits" placeholder="Traits to avoid"></textarea>
        </div>
      </div>

      <!-- Visual Identity -->
      <div class="section">
        <h2>Visual Identity</h2>
        <div class="field">
          <label>Color Direction</label>
          <textarea name="colorPreferences" placeholder="Any color preferences or meanings?"></textarea>
        </div>
        <div class="field">
          <label>Visual Style</label>
          <div class="visual-options">
            <div class="visual-option" onclick="selectVisual(this, 'Minimalist')">
              <div class="visual-option-title">Minimalist</div>
              <div class="visual-option-desc">Clean lines, lots of whitespace, simple typography</div>
              <div class="visual-option-example">Examples: Apple, Muji, Airbnb</div>
            </div>
            <div class="visual-option" onclick="selectVisual(this, 'Bold & Vibrant')">
              <div class="visual-option-title">Bold & Vibrant</div>
              <div class="visual-option-desc">Bright colors, strong contrasts, eye-catching</div>
              <div class="visual-option-example">Examples: Spotify, YouTube, Lyft</div>
            </div>
            <div class="visual-option" onclick="selectVisual(this, 'Elegant & Sophisticated')">
              <div class="visual-option-title">Elegant & Sophisticated</div>
              <div class="visual-option-desc">Refined, luxury feel, classic typography</div>
              <div class="visual-option-example">Examples: Chanel, Rolex, Mercedes-Benz</div>
            </div>
            <div class="visual-option" onclick="selectVisual(this, 'Playful & Fun')">
              <div class="visual-option-title">Playful & Fun</div>
              <div class="visual-option-desc">Quirky, colorful, whimsical elements</div>
              <div class="visual-option-example">Examples: Mailchimp, Duolingo, Ben & Jerry's</div>
            </div>
            <div class="visual-option" onclick="selectVisual(this, 'Rugged & Industrial')">
              <div class="visual-option-title">Rugged & Industrial</div>
              <div class="visual-option-desc">Raw, textured, authentic, masculine</div>
              <div class="visual-option-example">Examples: Carhartt, Yeti, Patagonia</div>
            </div>
            <div class="visual-option" onclick="selectVisual(this, 'Modern & Tech-Forward')">
              <div class="visual-option-title">Modern & Tech-Forward</div>
              <div class="visual-option-desc">Gradients, glassmorphism, futuristic</div>
              <div class="visual-option-example">Examples: Stripe, Figma, Notion</div>
            </div>
            <div class="visual-option" onclick="selectVisual(this, 'Organic & Natural')">
              <div class="visual-option-title">Organic & Natural</div>
              <div class="visual-option-desc">Earthy tones, organic shapes, sustainable feel</div>
              <div class="visual-option-example">Examples: Whole Foods, The Body Shop, Allbirds</div>
            </div>
            <div class="visual-option" onclick="selectVisual(this, 'Other')">
              <div class="visual-option-title">Other</div>
              <div class="visual-option-desc">Something unique to your brand</div>
            </div>
          </div>
          <input type="hidden" name="visualStyle" id="visualStyleInput">
        </div>
        <div class="field hidden" id="visualStyleOther">
          <label>If Other, describe:</label>
          <input type="text" name="visualStyleOther" placeholder="Your visual style">
        </div>
        <div class="field">
          <label>Imagery Direction</label>
          <select name="imagery" onchange="toggleOther(this, 'imageryOther')">
            <option value="">Select an option...</option>
            <option>Photography (realistic, human-centered)</option>
            <option>Illustrations (custom, artistic)</option>
            <option>Abstract Graphics (shapes, patterns)</option>
            <option>3D Renders (modern, digital)</option>
            <option>Mixed Media (combination approach)</option>
            <option>Other</option>
          </select>
        </div>
        <div class="field hidden" id="imageryOther">
          <label>If Other, specify:</label>
          <input type="text" name="imageryOther" placeholder="Your imagery style">
        </div>
      </div>

      <!-- Messaging -->
      <div class="section">
        <h2>Messaging</h2>
        <div class="field">
          <label>Key Messages</label>
          <textarea name="keyMessages" placeholder="Top 3 things you want to communicate"></textarea>
        </div>
        <div class="field">
          <label>Words/Phrases to Avoid</label>
          <textarea name="avoidLanguage" placeholder="Any jargon or terms you don't want to use?"></textarea>
        </div>
      </div>

      <!-- Brand Voice Sliders -->
      <div class="section">
        <h2>Brand Voice Spectrum</h2>
        <p class="section-intro">Move the sliders to define your brand's voice and personality</p>
        
        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Voice Tone</span>
            <span class="slider-value" id="voiceToneValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Soft & Gentle</span>
            <input type="range" name="voiceTone" min="0" max="100" value="50" oninput="updateSlider(this, 'voiceToneValue')">
            <span class="slider-end">Punchy & Bold</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Personality</span>
            <span class="slider-value" id="personalityValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Serious & Professional</span>
            <input type="range" name="personality" min="0" max="100" value="50" oninput="updateSlider(this, 'personalityValue')">
            <span class="slider-end">Playful & Witty</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Formality</span>
            <span class="slider-value" id="formalityValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Formal & Polished</span>
            <input type="range" name="formality" min="0" max="100" value="50" oninput="updateSlider(this, 'formalityValue')">
            <span class="slider-end">Casual & Conversational</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Emotional Appeal</span>
            <span class="slider-value" id="emotionValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Logical & Rational</span>
            <input type="range" name="emotion" min="0" max="100" value="50" oninput="updateSlider(this, 'emotionValue')">
            <span class="slider-end">Emotional & Heartfelt</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Complexity</span>
            <span class="slider-value" id="complexityValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Simple & Clear</span>
            <input type="range" name="complexity" min="0" max="100" value="50" oninput="updateSlider(this, 'complexityValue')">
            <span class="slider-end">Sophisticated & Nuanced</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Innovation</span>
            <span class="slider-value" id="innovationValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Traditional & Classic</span>
            <input type="range" name="innovation" min="0" max="100" value="50" oninput="updateSlider(this, 'innovationValue')">
            <span class="slider-end">Modern & Cutting-Edge</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Approachability</span>
            <span class="slider-value" id="approachabilityValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Exclusive & Premium</span>
            <input type="range" name="approachability" min="0" max="100" value="50" oninput="updateSlider(this, 'approachabilityValue')">
            <span class="slider-end">Accessible & Inclusive</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Energy Level</span>
            <span class="slider-value" id="energyValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Calm & Measured</span>
            <input type="range" name="energy" min="0" max="100" value="50" oninput="updateSlider(this, 'energyValue')">
            <span class="slider-end">Energetic & Dynamic</span>
          </div>
        </div>
      </div>

      <!-- Language Style -->
      <div class="section">
        <h2>Language Style</h2>
        <p class="section-intro">Define how your brand communicates through written language</p>
        
        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Vocabulary</span>
            <span class="slider-value" id="vocabularyValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Everyday Words</span>
            <input type="range" name="vocabulary" min="0" max="100" value="50" oninput="updateSlider(this, 'vocabularyValue')">
            <span class="slider-end">Industry Jargon</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Sentence Length</span>
            <span class="slider-value" id="sentenceLengthValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Short & Snappy</span>
            <input type="range" name="sentenceLength" min="0" max="100" value="50" oninput="updateSlider(this, 'sentenceLengthValue')">
            <span class="slider-end">Long & Flowing</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Technicality</span>
            <span class="slider-value" id="technicalityValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Layman's Terms</span>
            <input type="range" name="technicality" min="0" max="100" value="50" oninput="updateSlider(this, 'technicalityValue')">
            <span class="slider-end">Technical & Precise</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Storytelling</span>
            <span class="slider-value" id="storytellingValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Facts & Data</span>
            <input type="range" name="storytelling" min="0" max="100" value="50" oninput="updateSlider(this, 'storytellingValue')">
            <span class="slider-end">Stories & Narratives</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Humor</span>
            <span class="slider-value" id="humorValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Serious & Straight</span>
            <input type="range" name="humor" min="0" max="100" value="50" oninput="updateSlider(this, 'humorValue')">
            <span class="slider-end">Witty & Humorous</span>
          </div>
        </div>

        <div class="slider-container">
          <div class="slider-header">
            <span class="slider-label">Directness</span>
            <span class="slider-value" id="directnessValue">Balanced</span>
          </div>
          <div class="slider-track">
            <span class="slider-end left">Direct & Clear</span>
            <input type="range" name="directness" min="0" max="100" value="50" oninput="updateSlider(this, 'directnessValue')">
            <span class="slider-end">Suggestive & Subtle</span>
          </div>
        </div>
      </div>
    </form>
  </div>

  <script>
    function toggleOther(select, targetId) {
      const target = document.getElementById(targetId);
      if (select.value === 'Other' || select.value === 'Other/Combination') {
        target.classList.remove('hidden');
      } else {
        target.classList.add('hidden');
      }
    }

    function selectVisual(element, value) {
      document.querySelectorAll('.visual-option').forEach(el => el.classList.remove('selected'));
      element.classList.add('selected');
      document.getElementById('visualStyleInput').value = value;
      
      const otherField = document.getElementById('visualStyleOther');
      if (value === 'Other') {
        otherField.classList.remove('hidden');
      } else {
        otherField.classList.add('hidden');
      }
    }

    function updateSlider(slider, valueId) {
      const value = parseInt(slider.value);
      let label;
      if (value < 25) label = "Strongly Left";
      else if (value < 45) label = "Moderately Left";
      else if (value < 55) label = "Balanced";
      else if (value < 75) label = "Moderately Right";
      else label = "Strongly Right";
      
      document.getElementById(valueId).textContent = label;
    }

    function getFormData() {
      const form = document.getElementById('brandForm');
      const formData = new FormData(form);
      const data = {};
      
      for (let [key, value] of formData.entries()) {
        data[key] = value;
      }
      
      return data;
    }

    function showAlert(message, type) {
      const container = document.getElementById('alertContainer');
      container.innerHTML = `<div class="alert alert-${type}">${message}</div>`;
      setTimeout(() => {
        container.innerHTML = '';
      }, 5000);
    }

    function exportBrand() {
      const data = getFormData();
      data.timestamp = new Date().toISOString();
      
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `brand-framework-${data.name || 'untitled'}.json`;
      a.click();
      URL.revokeObjectURL(url);
    }

    async function submitBrand() {
      const data = getFormData();
      
      if (!data.name) {
        showAlert('Please enter a brand name before submitting.', 'error');
        return;
      }

      const submitBtn = document.getElementById('submitBtn');
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<span>‚è≥</span> Submitting...';

      const formatSliderValue = (value) => {
        value = parseInt(value);
        if (value < 25) return "Strongly Left";
        if (value < 45) return "Moderately Left";
        if (value < 55) return "Balanced";
        if (value < 75) return "Moderately Right";
        return "Strongly Right";
      };

      const emailData = {
        brand_name: data.name || 'Untitled',
        submission_date: new Date().toLocaleString(),
        
        // Summaries
        voice_summary: generateVoiceSummary(),
        language_summary: generateLanguageSummary(),
        
        // Foundation
        foundation_name: data.name || 'N/A',
        foundation_tagline: data.tagline || 'N/A',
        foundation_mission: data.mission || 'N/A',
        foundation_vision: data.vision || 'N/A',
        foundation_values: data.values || 'N/A',

        // Audience
        audience_primary: data.primaryAudience || 'N/A',
        audience_demographics: data.demographics || 'N/A',
        audience_psychographics: data.psychographics || 'N/A',
        audience_needs: data.customerNeeds || 'N/A',

        // Market
        market_category: data.category || 'N/A',
        market_category_other: data.categoryOther || '',
        market_competitors: data.competitors || 'N/A',
        market_differentiation: data.differentiation || 'N/A',
        market_value_prop: data.valueProposition || 'N/A',

        // Personality
        personality_archetype: data.archetype || 'N/A',
        personality_archetype_other: data.archetypeOther || '',
        personality_human_traits: data.humanTraits || 'N/A',
        personality_avoid_traits: data.avoidTraits || 'N/A',

        // Visual
        visual_color: data.colorPreferences || 'N/A',
        visual_style: data.visualStyle || 'N/A',
        visual_style_other: data.visualStyleOther || '',
        visual_imagery: data.imagery || 'N/A',
        visual_imagery_other: data.imageryOther || '',

        // Messaging
        messaging_key_messages: data.keyMessages || 'N/A',
        messaging_avoid: data.avoidLanguage || 'N/A',

        // Brand Voice Sliders
        voice_tone_value: data.voiceTone || 50,
        voice_tone_label: formatSliderValue(data.voiceTone || 50),
        voice_personality_value: data.personality || 50,
        voice_personality_label: formatSliderValue(data.personality || 50),
        voice_formality_value: data.formality || 50,
        voice_formality_label: formatSliderValue(data.formality || 50),
        voice_emotion_value: data.emotion || 50,
        voice_emotion_label: formatSliderValue(data.emotion || 50),
        voice_complexity_value: data.complexity || 50,
        voice_complexity_label: formatSliderValue(data.complexity || 50),
        voice_innovation_value: data.innovation || 50,
        voice_innovation_label: formatSliderValue(data.innovation || 50),
        voice_approachability_value: data.approachability || 50,
        voice_approachability_label: formatSliderValue(data.approachability || 50),
        voice_energy_value: data.energy || 50,
        voice_energy_label: formatSliderValue(data.energy || 50),

        // Language Style Sliders
        lang_vocabulary_value: data.vocabulary || 50,
        lang_vocabulary_label: formatSliderValue(data.vocabulary || 50),
        lang_sentence_value: data.sentenceLength || 50,
        lang_sentence_label: formatSliderValue(data.sentenceLength || 50),
        lang_technicality_value: data.technicality || 50,
        lang_technicality_label: formatSliderValue(data.technicality || 50),
        lang_storytelling_value: data.storytelling || 50,
        lang_storytelling_label: formatSliderValue(data.storytelling || 50),
        lang_humor_value: data.humor || 50,
        lang_humor_label: formatSliderValue(data.humor || 50),
        lang_directness_value: data.directness || 50,
        lang_directness_label: formatSliderValue(data.directness || 50)
      };

      try {
        const response = await fetch('https://api.emailjs.com/api/v1.0/email/send', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            service_id: 'service_dg5e7ka',
            template_id: 'template_h1pz9g3',
            user_id: 'f1khU9n23hpADDU7G',
            template_params: emailData
          })
        });

        if (response.ok) {
          showAlert('Brand framework submitted successfully! Thank you.', 'success');
        } else {
          throw new Error('Failed to send');
        }
      } catch (error) {
        showAlert('Failed to submit. Please try again or download and email the file.', 'error');
        console.error('EmailJS error:', error);
      } finally {
        submitBtn.disabled = false;
        submitBtn.innerHTML = '<span>üì§</span> Submit';
      }
    }

    function resetForm() {
      if (confirm('Are you sure you want to reset the form? All data will be lost.')) {
        document.getElementById('brandForm').reset();
        document.querySelectorAll('.visual-option').forEach(el => el.classList.remove('selected'));
        document.getElementById('visualStyleInput').value = '';
        document.querySelectorAll('[id$="Other"]').forEach(el => el.classList.add('hidden'));
        document.querySelectorAll('.slider-value').forEach(el => el.textContent = 'Balanced');
        document.getElementById('alertContainer').innerHTML = '';
      }
    }
  </script>
</body>
</html>
